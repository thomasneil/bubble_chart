var iran = [{
  "#": 1,
  "Round": "February 3, 2017",
  "Total": 25,
  "New": 25,
  "Re-imp": 0,
  "Tag added": 0,
  "Source": "https://www.treasury.gov/press-center/press-releases/Pages/as0004.aspx",
  "Individual": 13,
  "Individual Status": "YES",
  "Entity": 12,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 13,
  "Non-Iranian": 12,
  "Non-IR Status": "YES",
  "[SDGT]": 8,
  "SDGT_Status": "YES",
  "[NPWMD]": 17,
  "NPWMD_Status": "YES",
  "[IRGC]": 8,
  "IRGC_Status": "YES",
  "[IFSR]": 25,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 0,
  "Human Rights Status": "NO"
 },
 {
  "#": 2,
  "Round": "April 13, 2017",
  "Total": 2,
  "New": 2,
  "Re-imp": 0,
  "Tag added": 0,
  "Source": "https://home.treasury.gov/index.php/news/press-release/sm0043",
  "Individual": 1,
  "Individual Status": "YES",
  "Entity": 1,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 13,
  "Non-Iranian": 0,
  "Non-IR Status": "NO",
  "[SDGT]": 0,
  "SDGT_Status": "NO",
  "[NPWMD]": 0,
  "NPWMD_Status": "NO",
  "[IRGC]": 0,
  "IRGC_Status": "NO",
  "[IFSR]": 0,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 2,
  "Human Rights Status": "YES"
 },
 {
  "#": 3,
  "Round": "May 17, 2017",
  "Total": 7,
  "New": 7,
  "Re-imp": 0,
  "Tag added": 0,
  "Source": "https://www.treasury.gov/press-center/press-releases/Pages/sm0088.aspx",
  "Individual": 2,
  "Individual Status": "YES",
  "Entity": 5,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 5,
  "Non-Iranian": 4,
  "Non-IR Status": "YES",
  "[SDGT]": 0,
  "SDGT_Status": "NO",
  "[NPWMD]": 7,
  "NPWMD_Status": "YES",
  "[IRGC]": 0,
  "IRGC_Status": "NO",
  "[IFSR]": 7,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 0,
  "Human Rights Status": "NO"
 },
 {
  "#": 4,
  "Round": "July 28, 2017",
  "Total": 6,
  "New": 6,
  "Re-imp": 0,
  "Tag added": 0,
  "Source": "https://home.treasury.gov/index.php/news/press-releases/sm0136",
  "Individual": 0,
  "Individual Status": "NO",
  "Entity": 6,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 6,
  "Non-Iranian": 0,
  "Non-IR Status": "NO",
  "[SDGT]": 0,
  "SDGT_Status": "NO",
  "[NPWMD]": 6,
  "NPWMD_Status": "YES",
  "[IRGC]": 0,
  "IRGC_Status": "NO",
  "[IFSR]": 6,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 0,
  "Human Rights Status": "NO"
 },
 {
  "#": 5,
  "Round": "September 14, 2017",
  "Total": 11,
  "New": 11,
  "Re-imp": 0,
  "Tag added": 0,
  "Source": "https://www.treasury.gov/press-center/press-releases/Pages/sm0158.aspx",
  "Individual": 7,
  "Individual Status": "YES",
  "Entity": 4,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 9,
  "Non-Iranian": 2,
  "Non-IR Status": "YES",
  "[SDGT]": 2,
  "SDGT_Status": "YES",
  "[NPWMD]": 1,
  "NPWMD_Status": "YES",
  "[IRGC]": 0,
  "IRGC_Status": "NO",
  "[IFSR]": 3,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 8,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 0,
  "Human Rights Status": "NO"
 },
 {
  "#": 6,
  "Round": "October 13, 2017",
  "Total": 5,
  "New": 4,
  "Re-imp": 0,
  "Tag added": 1,
  "Source": "https://www.treasury.gov/press-center/press-releases/Pages/sm0177.aspx",
  "Individual": 0,
  "Individual Status": "NO",
  "Entity": 5,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 4,
  "Non-Iranian": 1,
  "Non-IR Status": "YES",
  "[SDGT]": 1,
  "SDGT_Status": "YES",
  "[NPWMD]": 4,
  "NPWMD_Status": "YES",
  "[IRGC]": 0,
  "IRGC_Status": "NO",
  "[IFSR]": 4,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 0,
  "Human Rights Status": "NO"
 },
 {
  "#": 7,
  "Round": "October 31, 2017",
  "Total": 41,
  "New": 0,
  "Re-imp": 0,
  "Tag added": 41,
  "Source": "https://www.treasury.gov/resource-center/sanctions/OFAC-Enforcement/Pages/20171031_33.aspx",
  "Individual": 12,
  "Individual Status": "YES",
  "Entity": 29,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 41,
  "Non-Iranian": 0,
  "Non-IR Status": "NO",
  "[SDGT]": 41,
  "SDGT_Status": "YES",
  "[NPWMD]": 0,
  "NPWMD_Status": "NO",
  "[IRGC]": 0,
  "IRGC_Status": "NO",
  "[IFSR]": 0,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 0,
  "Human Rights Status": "NO"
 },
 {
  "#": 8,
  "Round": "November 20, 2017",
  "Total": 6,
  "New": 6,
  "Re-imp": 0,
  "Tag added": 0,
  "Source": "https://www.treasury.gov/press-center/press-releases/Pages/sm0219.aspx",
  "Individual": 2,
  "Individual Status": "YES",
  "Entity": 4,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 4,
  "Non-Iranian": 2,
  "Non-IR Status": "YES",
  "[SDGT]": 6,
  "SDGT_Status": "YES",
  "[NPWMD]": 0,
  "NPWMD_Status": "NO",
  "[IRGC]": 6,
  "IRGC_Status": "YES",
  "[IFSR]": 6,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 0,
  "Human Rights Status": "NO"
 },
 {
  "#": 9,
  "Round": "January 4, 2018",
  "Total": 5,
  "New": 5,
  "Re-imp": 0,
  "Tag added": 0,
  "Source": "https://home.treasury.gov/news/press-releases/sm0246",
  "Individual": 0,
  "Individual Status": "NO",
  "Entity": 5,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 5,
  "Non-Iranian": 0,
  "Non-IR Status": "NO",
  "[SDGT]": 0,
  "SDGT_Status": "NO",
  "[NPWMD]": 5,
  "NPWMD_Status": "YES",
  "[IRGC]": 0,
  "IRGC_Status": "NO",
  "[IFSR]": 5,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 0,
  "Human Rights Status": "NO"
 },
 {
  "#": 10,
  "Round": "January 12, 2018",
  "Total": 14,
  "New": 14,
  "Re-imp": 0,
  "Tag added": 0,
  "Source": "https://home.treasury.gov/news/press-releases/sm0250",
  "Individual": 5,
  "Individual Status": "YES",
  "Entity": 9,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 10,
  "Non-Iranian": 4,
  "Non-IR Status": "YES",
  "[SDGT]": 1,
  "SDGT_Status": "YES",
  "[NPWMD]": 8,
  "NPWMD_Status": "YES",
  "[IRGC]": 1,
  "IRGC_Status": "YES",
  "[IFSR]": 9,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 2,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 1,
  "[IRAN-HR]": 3,
  "Human Rights Status": "YES"
 },
 {
  "#": 11,
  "Round": "March 23, 2018",
  "Total": 11,
  "New": 11,
  "Re-imp": 0,
  "Tag added": 0,
  "Source": "https://home.treasury.gov/news/press-releases/sm0332",
  "Individual": 10,
  "Individual Status": "YES",
  "Entity": 1,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 11,
  "Non-Iranian": 0,
  "Non-IR Status": "NO",
  "[SDGT]": 0,
  "SDGT_Status": "NO",
  "[NPWMD]": 0,
  "NPWMD_Status": "NO",
  "[IRGC]": 0,
  "IRGC_Status": "NO",
  "[IFSR]": 0,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 11,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 0,
  "Human Rights Status": "NO"
 },
 {
  "#": 12,
  "Round": "May 10, 2018",
  "Total": 9,
  "New": 9,
  "Re-imp": 0,
  "Tag added": 0,
  "Source": "https://home.treasury.gov/news/press-releases/sm0383",
  "Individual": 6,
  "Individual Status": "YES",
  "Entity": 3,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 9,
  "Non-Iranian": 0,
  "Non-IR Status": "NO",
  "[SDGT]": 9,
  "SDGT_Status": "YES",
  "[NPWMD]": 0,
  "NPWMD_Status": "NO",
  "[IRGC]": 9,
  "IRGC_Status": "YES",
  "[IFSR]": 9,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 0,
  "Human Rights Status": "NO"
 },
 {
  "#": 13,
  "Round": "May 15, 2018",
  "Total": 5,
  "New": 5,
  "Re-imp": 0,
  "Tag added": 0,
  "Source": "https://home.treasury.gov/news/press-releases/sm0385",
  "Individual": 4,
  "Individual Status": "YES",
  "Entity": 1,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 2,
  "Non-Iranian": 3,
  "Non-IR Status": "YES",
  "[SDGT]": 5,
  "SDGT_Status": "YES",
  "[NPWMD]": 0,
  "NPWMD_Status": "NO",
  "[IRGC]": 2,
  "IRGC_Status": "YES",
  "[IFSR]": 4,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 0,
  "Human Rights Status": "NO"
 },
 {
  "#": 14,
  "Round": "May 22, 2018",
  "Total": 5,
  "New": 5,
  "Re-imp": 0,
  "Tag added": 0,
  "Source": "https://home.treasury.gov/news/press-releases/sm0392",
  "Individual": 5,
  "Individual Status": "YES",
  "Entity": 0,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 5,
  "Non-Iranian": 0,
  "Non-IR Status": "NO",
  "[SDGT]": 4,
  "SDGT_Status": "YES",
  "[NPWMD]": 1,
  "NPWMD_Status": "YES",
  "[IRGC]": 5,
  "IRGC_Status": "YES",
  "[IFSR]": 5,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 0,
  "Human Rights Status": "NO"
 },
 {
  "#": 15,
  "Round": "May 24, 2018",
  "Total": 40,
  "New": 40,
  "Re-imp": 0,
  "Tag added": 0,
  "Source": "https://home.treasury.gov/news/press-releases/sm0395",
  "Individual": 3,
  "Individual Status": "YES",
  "Entity": 6,
  "Aircraft": 31,
  "Vessle": 0,
  "Aircraft or Vessle": "YES",
  "Iranian": 35,
  "Non-Iranian": 5,
  "Non-IR Status": "YES",
  "[SDGT]": 40,
  "SDGT_Status": "YES",
  "[NPWMD]": 0,
  "NPWMD_Status": "NO",
  "[IRGC]": 5,
  "IRGC_Status": "YES",
  "[IFSR]": 40,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 0,
  "Human Rights Status": "NO"
 },
 {
  "#": 16,
  "Round": "May 30, 2018",
  "Total": 9,
  "New": 9,
  "Re-imp": 0,
  "Tag added": 0,
  "Source": "https://home.treasury.gov/news/press-releases/sm0397",
  "Individual": 6,
  "Individual Status": "YES",
  "Entity": 3,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 9,
  "Non-Iranian": 0,
  "Non-IR Status": "NO",
  "[SDGT]": 0,
  "SDGT_Status": "NO",
  "[NPWMD]": 0,
  "NPWMD_Status": "NO",
  "[IRGC]": 0,
  "IRGC_Status": "NO",
  "[IFSR]": 0,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 3,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 1,
  "[IRAN-HR]": 5,
  "Human Rights Status": "YES"
 },
 {
  "#": 17,
  "Round": "July 9, 2018",
  "Total": 1,
  "New": 1,
  "Re-imp": 0,
  "Tag added": 0,
  "Source": "https://home.treasury.gov/news/press-releases/sm423",
  "Individual": 0,
  "Individual Status": "NO",
  "Entity": 1,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 1,
  "Non-Iranian": 0,
  "Non-IR Status": "NO",
  "[SDGT]": 1,
  "SDGT_Status": "YES",
  "[NPWMD]": 0,
  "NPWMD_Status": "NO",
  "[IRGC]": 0,
  "IRGC_Status": "NO",
  "[IFSR]": 1,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 0,
  "Human Rights Status": "NO"
 },
 {
  "#": 18,
  "Round": "August 6, 2018",
  "Total": 1,
  "New": "-",
  "Re-imp": "-",
  "Tag added": "-",
  "Source": "https://www.treasury.gov/resource-center/sanctions/OFAC-Enforcement/Pages/20180806.aspx",
  "Individual": "-",
  "Individual Status": "YES",
  "Entity": "-",
  "Aircraft": "-",
  "Vessle": "-",
  "Aircraft or Vessle": "YES",
  "Iranian": "-",
  "Non-Iranian": "-",
  "Non-IR Status": "YES",
  "[SDGT]": "-",
  "SDGT_Status": "YES",
  "[NPWMD]": "-",
  "NPWMD_Status": "YES",
  "[IRGC]": "-",
  "IRGC_Status": "YES",
  "[IFSR]": "-",
  "[IRAN]": "-",
  "[IFCA]": "-",
  "[IRAN-TRA]": "-",
  "[CYBER2]": "-",
  "[SYRIA]": "-",
  "[HRIT-IR]": "-",
  "[IRAN-HR]": "-",
  "Human Rights Status": "YES"
 },
 {
  "#": 19,
  "Round": "September 14, 2018",
  "Total": 1,
  "New": 1,
  "Re-imp": 0,
  "Tag added": 0,
  "Source": "https://home.treasury.gov/news/press-releases/sm484",
  "Individual": 0,
  "Individual Status": "NO",
  "Entity": 1,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 0,
  "Non-Iranian": 1,
  "Non-IR Status": "YES",
  "[SDGT]": 1,
  "SDGT_Status": "YES",
  "[NPWMD]": 0,
  "NPWMD_Status": "NO",
  "[IRGC]": 0,
  "IRGC_Status": "NO",
  "[IFSR]": 1,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 0,
  "Human Rights Status": "NO"
 },
 {
  "#": 20,
  "Round": "October 16, 2018",
  "Total": 21,
  "New": 17,
  "Re-imp": 3,
  "Tag added": 1,
  "Source": "https://home.treasury.gov/news/press-releases/sm524",
  "Individual": 0,
  "Individual Status": "NO",
  "Entity": 21,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 21,
  "Non-Iranian": 0,
  "Non-IR Status": "NO",
  "[SDGT]": 20,
  "SDGT_Status": "YES",
  "[NPWMD]": 0,
  "NPWMD_Status": "NO",
  "[IRGC]": 0,
  "IRGC_Status": "NO",
  "[IFSR]": 21,
  "[IRAN]": 3,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 0,
  "Human Rights Status": "NO"
 },
 {
  "#": 21,
  "Round": "November 5, 2018",
  "Total": 706,
  "New": 443,
  "Re-imp": 262,
  "Tag added": 1,
  "Source": "https://home.treasury.gov/news/press-releases/sm541",
  "Individual": 26,
  "Individual Status": "YES",
  "Entity": 414,
  "Aircraft": 67,
  "Vessle": 199,
  "Aircraft or Vessle": "YES",
  "Iranian": 511,
  "Non-Iranian": 195,
  "Non-IR Status": "YES",
  "[SDGT]": 40,
  "SDGT_Status": "YES",
  "[NPWMD]": 10,
  "NPWMD_Status": "YES",
  "[IRGC]": 0,
  "IRGC_Status": "NO",
  "[IFSR]": 48,
  "[IRAN]": 667,
  "[IFCA]": 5,
  "[IRAN-TRA]": 1,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 1,
  "Human Rights Status": "YES"
 },
 {
  "#": 22,
  "Round": "November 20, 2018",
  "Total": 10,
  "New": 9,
  "Re-imp": 0,
  "Tag added": 1,
  "Source": "https://home.treasury.gov/news/press-releases/sm553",
  "Individual": 6,
  "Individual Status": "YES",
  "Entity": 4,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 3,
  "Non-Iranian": 7,
  "Non-IR Status": "YES",
  "[SDGT]": 6,
  "SDGT_Status": "YES",
  "[NPWMD]": 0,
  "NPWMD_Status": "NO",
  "[IRGC]": 4,
  "IRGC_Status": "YES",
  "[IFSR]": 4,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 0,
  "[SYRIA]": 6,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 0,
  "Human Rights Status": "NO"
 },
 {
  "#": 23,
  "Round": "November 28, 2018",
  "Total": 2,
  "New": 2,
  "Re-imp": 0,
  "Tag added": 0,
  "Source": "https://home.treasury.gov/news/press-releases/sm556",
  "Individual": 2,
  "Individual Status": "YES",
  "Entity": 0,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 2,
  "Non-Iranian": 0,
  "Non-IR Status": "NO",
  "[SDGT]": 0,
  "SDGT_Status": "NO",
  "[NPWMD]": 0,
  "NPWMD_Status": "NO",
  "[IRGC]": 0,
  "IRGC_Status": "NO",
  "[IFSR]": 0,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 2,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 0,
  "Human Rights Status": "NO"
 },
 {
  "#": 24,
  "Round": "January 24, 2019",
  "Total": 7,
  "New": 6,
  "Re-imp": 0,
  "Tag added": 1,
  "Source": "https://home.treasury.gov/news/press-releases/sm590",
  "Individual": 0,
  "Individual Status": "NO",
  "Entity": 5,
  "Aircraft": 2,
  "Vessle": 0,
  "Aircraft or Vessle": "YES",
  "Iranian": 3,
  "Non-Iranian": 4,
  "Non-IR Status": "YES",
  "[SDGT]": 6,
  "SDGT_Status": "YES",
  "[NPWMD]": 0,
  "NPWMD_Status": "NO",
  "[IRGC]": 2,
  "IRGC_Status": "YES",
  "[IFSR]": 6,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 0,
  "[IRAN-HR]": 3,
  "Human Rights Status": "YES"
 },
 {
  "#": 25,
  "Round": "February 13, 2019",
  "Total": 12,
  "New": 11,
  "Re-imp": 0,
  "Tag added": 1,
  "Source": "https://home.treasury.gov/news/press-releases/sm611",
  "Individual": 10,
  "Individual Status": "YES",
  "Entity": 2,
  "Aircraft": 0,
  "Vessle": 0,
  "Aircraft or Vessle": "NO",
  "Iranian": 12,
  "Non-Iranian": 0,
  "Non-IR Status": "NO",
  "[SDGT]": 5,
  "SDGT_Status": "YES",
  "[NPWMD]": 0,
  "NPWMD_Status": "NO",
  "[IRGC]": 0,
  "IRGC_Status": "NO",
  "[IFSR]": 5,
  "[IRAN]": 0,
  "[IFCA]": 0,
  "[IRAN-TRA]": 0,
  "[CYBER2]": 0,
  "[SYRIA]": 0,
  "[HRIT-IR]": 7,
  "[IRAN-HR]": 0,
  "Human Rights Status": "YES"
 }
];



/* bubbleChart creation function. Returns a function that will
 * instantiate a new bubble chart given a DOM element to display
 * it in and a dataset to visualize.
 *
 * Organization and style inspired by:
 * https://bost.ocks.org/mike/chart/
 *
 */
function bubbleChart() {

 // Constants for sizing
 var width = 900;
 var height = 600;

 // tooltip for mouseover functionality
 var tooltip = floatingTooltip('gates_tooltip', 240);

 // Locations to move bubbles towards, depending
 // on which view mode is selected.
 var center = {
  x: width / 2,
  y: height / 2
 };

 var yearCenters = {
  2017: {
   x: width / 3,
   y: height / 2
  },
  2018: {
   x: width / 2,
   y: height / 2
  },
  2019: {
   x: 2 * width / 3,
   y: height / 2
  }
 };

 // X locations of the year titles.
 var yearsTitleX = {
  2017: (width / 3) - 50,
  2018: width / 2,
  2019: (2 * width / 3) + 50
 };


 var tagTitleX = {
  "YES": (width / 3) - 50,
  "NO": (2 * width / 3) + 50
 };

 var titleCenters = {
  "YES": {
   x: width / 3,
   y: height / 2
  },
  "NO": {
   x: 2 * width / 3,
   y: height / 2
  }
 };


 const monthNames = ["January", "February", "March", "April", "May", "June",
  "July", "August", "September", "October", "November", "December"
 ];
 var monthCenters = {


  "January 2017": {
   x: (width / 30)+(0.02*width),
   y: height / 2
  },
  "February 2017": {
   x: ((width / 30) * 2)+(0.02*width),
   y: height / 2
  },
  "March 2017": {
   x: ((width / 30) * 3),
   y: height / 2
  },
  "April 2017": {
   x: ((width / 30) * 4),
   y: height / 2
  },
  "May 2017": {
   x: ((width / 30) * 5),
   y: height / 2
  },
  "June 2017": {
   x: (width / 30) * 6,
   y: height / 2
  },
  "July 2017": {
   x: (width / 30) * 7,
   y: height / 2
  },
  "August 2017": {
   x: (width / 30) * 8,
   y: height / 2
  },
  "September 2017": {
   x: (width / 30) * 9,
   y: height / 2
  },
  "October 2017": {
   x: (width / 30) * 10,
   y: height / 2
  },
  "November 2017": {
   x: (width / 30) * 11,
   y: height / 2
  },
  "December 2017": {
   x: (width / 30) * 12,
   y: height / 2
  },
  "January 2018": {
   x: (width / 30) * 13,
   y: height / 2
  },
  "February 2018": {
   x: (width / 30) * 14,
   y: height / 2
  },
  "March 2018": {
   x: (width / 30) * 15,
   y: height / 2
  },
  "April 2018": {
   x: (width / 30) * 16,
   y: height / 2
  },
  "May 2018": {
   x: (width / 30) * 17,
   y: height / 2
  },
  "June 2018": {
   x: (width / 30) * 18,
   y: height / 2
  },
  "July 2018": {
   x: (width / 30) * 19,
   y: height / 2
  },
  "August 2018": {
   x: (width / 30) * 20,
   y: height / 2
  },
  "September 2018": {
   x: (width / 30) * 21,
   y: height / 2
  },
  "October 2018": {
   x: (width / 30) * 22,
   y: height / 2
  },
  "November 2018": {
   x: ((width / 30) * 23),
   y: height / 2
  },
  "December 2018": {
   x: ((width / 30) * 24),
   y: height / 2
  },
  "January 2019": {
   x: ((width / 30) * 25),
   y: height / 2
  },
  "February 2019": {
   x: ((width / 30)*26)-(0.02*width),
   y: height / 2
  },
  "March 2019": {
   x: ((width / 30) * 27)-(0.02*width),
   y: height / 2
  }
 };

 //X locations of Months
 var monthsTitleX = {


  "January 2017": (width / 27),
  "February 2017": (width / 27) * 2,
  "March 2017": (width / 27) * 3,
  "April 2017": (width / 27) * 4,
  "May 2017": (width / 27) * 5,
  "June 2017": (width / 27) * 6,
  "July 2017": (width / 27) * 7,
  "August 2017": (width / 27) * 8,
  "September 2017": (width / 27) * 9,
  "October 2017": (width / 27) * 10,
  "November 2017": (width / 27) * 11,
  "December 2017": (width / 27) * 12,
  "January 2018": (width / 27) * 13,
  "February 2018": (width / 27) * 14,
  "March 2018": (width / 27) * 15,
  "April 2018": (width / 27) * 16,
  "May 2018": (width / 27) * 17,
  "June 2018": (width / 27) * 18,
  "July 2018": (width / 27) * 19,
  "August 2018": (width / 27) * 20,
  "September 2018": (width / 27) * 21,
  "October 2018": (width / 27) * 22,
  "November 2018": (width / 27) * 23,
  "December 2018": (width / 27) * 24,
  "January 2019": (width / 27) * 25,
  "February 2019": (width / 27) * 26,
  "March 2019": (width / 27) * 27
 };


 // Used when setting up force and
 // moving around nodes
 var damper = 0.102;

 // These will be set in create_nodes and create_vis
 var svg = null;
 var bubbles = null;
 var nodes = [];

 // Charge function that is called for each node.
 // Charge is proportional to the diameter of the
 // circle (which is stored in the radius attribute
 // of the circle's associated data.
 // This is done to allow for accurate collision
 // detection with nodes of different sizes.
 // Charge is negative because we want nodes to repel.
 // Dividing by 8 scales down the charge to be
 // appropriate for the visualization dimensions.
 function charge(d) {

  return -Math.pow(d.radius, 2.0) / 8;
 }

 // Here we create a force layout and
 // configure it to use the charge function
 // from above. This also sets some contants
 // to specify how the force layout should behave.
 // More configuration is done below.
 var force = d3.layout.force()
  .size([width, height])
  .charge(charge)
  .gravity(-0.01)
  .friction(0.9);


 // Nice looking colors - no reason to buck the trend
 var fillColor = d3.scale.ordinal()
  .domain(['medium','low', 'high'])
  .range(['#239f40', '#2a52be', '#da0000']);

 // Sizes bubbles based on their area instead of raw radius
 var radiusScale = d3.scale.pow()
  .exponent(0.5)
  .range([2, 85]);

 function hideDetail(d) {
  setTimeout(function hider(d){
  // reset outline
  //d3.select(this)
   //.attr('stroke', d3.rgb(fillColor(d.year)).darker());
  
  tooltip.hideTooltip();
 },2000);}
 /*
  * This data manipulation function takes the raw data from
  * the CSV file and converts it into an array of node objects.
  * Each node will store data and visualization values to visualize
  * a bubble.
  *
  * rawData is expected to be an array of data objects, read in from
  * one of d3's loading functions like d3.csv.
  *
  * This function returns the new node array, with a node in that
  * array for each element in the rawData input.
  */
 function createNodes(rawData) {
  // Use map() to convert raw data into node data.
  // Checkout http://learnjsdata.com/ for more on
  // working with data.


  var myNodes = rawData.map(function(d) {

   return {
    id: d.id,
    radius: radiusScale(+d.Total),
    total: d.Total,
    value: d.Iranian,
    name: d.Round,
    org: d.New,
    group: d.Individual,
    date: new Date(d.Round.replace(",", "")),
    year: d.Round.substr(-4),
    HumanRights: d["Human Rights Status"],
    IRGC: d["IRGC_Status"],
    NPWMD: d["NPWMD_Status"],
    SDGT: d["SDGT_Status"],
    NONIR: d["Non-IR Status"],
    source: d["Source"],
    aircaftOrVessel: d["Aircraft or Vessle"],
    x: Math.random() * 900,
    y: Math.random() * 800
   };
  });

  // sort them to prevent occlusion of smaller nodes.
  myNodes.sort(function(a, b) {
   return b.value - a.value;
  });

  return myNodes;
 }

 /*
  * Main entry point to the bubble chart. This function is returned
  * by the parent closure. It prepares the rawData for visualization
  * and adds an svg element to the provided selector and starts the
  * visualization creation process.
  *
  * selector is expected to be a DOM element or CSS selector that
  * points to the parent element of the bubble chart. Inside this
  * element, the code will add the SVG continer for the visualization.
  *
  * rawData is expected to be an array of data objects as provided by
  * a d3 loading function like d3.csv.
  */
 var chart = function chart(selector, rawData) {
  // Use the max total_amount in the data as the max in the scale's domain
  // note we have to ensure the total_amount is a number by converting it
  // with `+`.
  var maxAmount = d3.max(iran, function(d) {
   
   return +d.Total;
  });
  radiusScale.domain([0, maxAmount]);

  nodes = createNodes(iran);
  // Set the force's nodes to our newly created nodes array.
  force.nodes(nodes);

  // Create a SVG element inside the provided selector
  // with desired size.
  svg = d3.select(selector)
   .append('svg')
   .attr('width', width+500)
   .attr('height', height);

  // Bind nodes data to what will become DOM elements to represent them.
  bubbles = svg.selectAll('.bubble')
   .data(nodes, function(d) {
    return d.name;
   });

  // Create new circle elements each with class `bubble`.
  // There will be one circle.bubble for each object in the nodes array.
  // Initially, their radius (r attribute) will be 0.
  bubbles.enter().append('circle')
   .classed('bubble', true)
   .attr('r', 0)
   .attr('fill', function(d) {
    return fillColor(d.year);
   })
   .attr('stroke', function(d) {
    return d3.rgb(fillColor(d.year)).darker();
   })
   .attr('stroke-width', 2)
   .on('mouseover', showDetail)
   .on('mouseout', hideDetail);


  // Fancy transition to make bubbles appear, ending with the
  // correct radius
  bubbles.transition()
   .duration(2000)
   .attr('r', function(d) {

    return d.radius;
   });

  // Set initial layout to single group.
  groupBubbles();
 };




 /*
  * Sets visualization in "single group mode".
  * The year labels are hidden and the force layout
  * tick function is set to move all nodes to the
  * center of the visualization.
  */

 function hideYears() {
  svg.selectAll('.year').remove();

 }

  function hideTags() {
  svg.selectAll('.tags').remove();

 }


 function hideMonths() {
  svg.selectAll('.months').remove();
  svg.selectAll('.xaxis').remove();
 }

 function groupBubbles() {
  hideYears();
  hideMonths();

  force.on('tick', function(e) {
   bubbles.each(moveToCenter(e.alpha))
    .attr('r', function(d) {
     if (resize == 1) {
      return d.radius / 2;
     } else {
      return d.radius;
     }
    })
    .attr('cx', function(d) {
     return d.x;
    })
    .attr('cy', function(d) {
     return d.y;
    });
  });

  force.start();
 }

 /*
  * Helper function for "single group mode".
  * Returns a function that takes the data for a
  * single node and adjusts the position values
  * of that node to move it toward the center of
  * the visualization.
  *
  * Positioning is adjusted by the force layout's
  * alpha parameter which gets smaller and smaller as
  * the force layout runs. This makes the impact of
  * this moving get reduced as each node gets closer to
  * its destination, and so allows other forces like the
  * node's charge force to also impact final location.
  */
 function moveToCenter(alpha) {

  return function(d) {
   d.x = d.x + (center.x - d.x) * damper * alpha;
   d.y = d.y + (center.y - d.y) * damper * alpha;
  };
 }

 /*
  * Sets visualization in "split by year mode".
  * The year labels are shown and the force layout
  * tick function is set to move nodes to the
  * yearCenter of their data's year.
  */
 function splitBubbles() {
  hideMonths();
  hideTags();
  showYears();



  force.on('tick', function(e) {
   bubbles.each(moveToYears(e.alpha))
    .attr('r', function(d) {
     if (resize == 1) {
      return d.radius / 2;
     } else {
      return d.radius;
     }
    })
    .attr('cx', function(d) {
     return d.x;
    })
    .attr('cy', function(d) {
     return d.y;
    });
  });

  force.start();
 }

 function splitTag(tagval){
 hideMonths();
  hideYears();
  hideTags();
 showTag(tagval);


 force.on('tick', function(e) {
  bubbles.each(moveToTag(tagval,e.alpha))
   .attr('r', function(d) {
    if (resize == 1) {
     return d.radius / 2;
    } else {
     return d.radius;
    }
   })
   .attr('cx', function(d) {
    return d.x;
   })
   .attr('cy', function(d) {
    return d.y;
   });
 });

 force.start();
}
function moveToTag(tagval,alpha) {

 if (tagval == "IRGC") {
  return function(d) {

   var target = titleCenters[d.IRGC];
   d.x = d.x + (target.x - d.x) * damper * alpha * 1.1;
   d.y = d.y + (target.y - d.y) * damper * alpha * 1.1;
  };

 } else if (tagval == "NPWMD") {
  return function(d) {

   var target = titleCenters[d.NPWMD];
   d.x = d.x + (target.x - d.x) * damper * alpha * 1.1;
   d.y = d.y + (target.y - d.y) * damper * alpha * 1.1;
  };

 } else if (tagval == "SDGT") {
  return function(d) {

   var target = titleCenters[d.SDGT];
   d.x = d.x + (target.x - d.x) * damper * alpha * 1.1;
   d.y = d.y + (target.y - d.y) * damper * alpha * 1.1;
  };

 } else if (tagval == "NONIR") {
  return function(d) {

   var target = titleCenters[d.NONIR];
   d.x = d.x + (target.x - d.x) * damper * alpha * 1.1;
   d.y = d.y + (target.y - d.y) * damper * alpha * 1.1;
  };

 }
  else if (tagval == "Human Rights") {
  return function(d) {

   var target = titleCenters[d.HumanRights];
   d.x = d.x + (target.x - d.x) * damper * alpha * 1.1;
   d.y = d.y + (target.y - d.y) * damper * alpha * 1.1;
  };
}
 else if (tagval == "aircaftOrVessel") {
  return function(d) {

   var target = titleCenters[d.aircaftOrVessel];
   d.x = d.x + (target.x - d.x) * damper * alpha * 1.1;
   d.y = d.y + (target.y - d.y) * damper * alpha * 1.1;
  };
}
}
 function splitTimeline() {
  hideYears();
  showTimeLine();


  force.on('tick', function(e) {
   bubbles.each(moveToMonths(e.alpha))
    .attr('r', function(d) {
     if (resize == 1) {
      return d.radius / 2;
     } else {
      return d.radius;
     }
    })
    .attr('cx', function(d) {
     return d.x;
    })
    .attr('cy', function(d) {
     return d.y;
    });
  });

  force.start();
 }


 // define the x scale (horizontal)
 var mindate = new Date(2017, 0, 1);
 var maxdate = new Date(2019, 5, 30);

 var xScale = d3.time.scale()
  .domain([mindate, maxdate]) // values between for month of january
  .range([0, width-10]); // map these the the chart width = total width minus padding at both sides



function showTag(tagval) {
 // Another way to do this would be to create
 // the year texts once and then just hide them.
hideTags();
 if (tagval == "NONIR") {

  var tagData = d3.keys(tagTitleX);
  var tags = svg.selectAll('tagval')
   .data(tagData);

  tags.enter().append('text')
   .attr('class', 'tags')
   .attr('x', function(d) {
    return tagTitleX[d];
   })
   .attr('y', 40)
   .attr('text-anchor', 'middle')
   .text(function(d) {
    return "Non-IR status?: "+d;
   });
 }

  if (tagval == "IRGC") {

  var tagData = d3.keys(tagTitleX);
  var tags = svg.selectAll('tagval')
   .data(tagData);

  tags.enter().append('text')
   .attr('class', 'tags')
   .attr('x', function(d) {
    return tagTitleX[d];
   })
   .attr('y', 40)
   .attr('text-anchor', 'middle')
   .text(function(d) {
    return "IRGC "+d;
   });
 }

  if (tagval == "SDGT") {

  var tagData = d3.keys(tagTitleX);
  var tags = svg.selectAll('tagval')
   .data(tagData);

  tags.enter().append('text')
   .attr('class', 'tags')
   .attr('x', function(d) {
    return tagTitleX[d];
   })
   .attr('y', 40)
   .attr('text-anchor', 'middle')
   .text(function(d) {
    return "SDGT "+d;
   });
 }

  if (tagval == "NPWMD") {

  var tagData = d3.keys(tagTitleX);
  var tags = svg.selectAll('tagval')
   .data(tagData);

  tags.enter().append('text')
   .attr('class', 'tags')
   .attr('x', function(d) {
    return tagTitleX[d];
   })
   .attr('y', 40)
   .attr('text-anchor', 'middle')
   .text(function(d) {
    return "NPWMD "+d;
   });
 }
  
  if (tagval == "Human Rights") {

  var tagData = d3.keys(tagTitleX);
  var tags = svg.selectAll('tagval')
   .data(tagData);

  tags.enter().append('text')
   .attr('class', 'tags')
   .attr('x', function(d) {
    return tagTitleX[d];
   })
   .attr('y', 40)
   .attr('text-anchor', 'middle')
   .text(function(d) {
    return "Presence of Human Rights Factors: "+d;
   });
 }

  if (tagval == "aircaftOrVessel") {

  var tagData = d3.keys(tagTitleX);
  var tags = svg.selectAll('tagval')
   .data(tagData);

  tags.enter().append('text')
   .attr('class', 'tags')
   .attr('x', function(d) {
    return tagTitleX[d];
   })
   .attr('y', 40)
   .attr('text-anchor', 'middle')
   .text(function(d) {
    return "Applies to Aircraft or Vessel?: "+d;
   });
 }

}
 function showTimeLine() {

hideTags();
  // Another way to do this would be to create
  // the year texts once and then just hide them.
  var monthsData = d3.keys(monthsTitleX);
  var months = svg.selectAll('.months')
   .data(monthsData);

  var xAxis = d3.svg.axis()
   .orient("center")
   .scale(xScale);

  months.enter().append("g")
   .attr("class", "xaxis") // give it a class so it can be used to select only xaxis labels  below
   .attr("transform", "translate(15," + (2*height / 3) + ")")
   .call(xAxis);

 }


 /*
  * Helper function for "split by year mode".
  * Returns a function that takes the data for a
  * single node and adjusts the position values
  * of that node to move it the year center for that
  * node.
  *
  * Positioning is adjusted by the force layout's
  * alpha parameter which gets smaller and smaller as
  * the force layout runs. This makes the impact of
  * this moving get reduced as each node gets closer to
  * its destination, and so allows other forces like the
  * node's charge force to also impact final location.
  */
 function moveToYears(alpha) {
  return function(d) {

   var target = yearCenters[d.year];
   d.x = d.x + (target.x - d.x) * damper * alpha * 1.1;
   d.y = d.y + (target.y - d.y) * damper * alpha * 1.1;
  };
 }
 var tempmonth = "";

 function moveToMonths(alpha) {
  return function(d) {


   var target = monthCenters[monthNames[d.date.getMonth()] + " " + d.year];


   d.x = d.x + (target.x - d.x) * damper * alpha * 1.1;
   d.y = d.y + (target.y - d.y) * damper * alpha * 1.1;




  };



 }

 /*
  * Hides Year title displays.
  */


 /*
  * Shows Year title displays.
  */
 function showYears() {
  // Another way to do this would be to create
  // the year texts once and then just hide them.
  var yearsData = d3.keys(yearsTitleX);
  var years = svg.selectAll('.year')
   .data(yearsData);

  years.enter().append('text')
   .attr('class', 'year')
   .attr('x', function(d) {
    return yearsTitleX[d];
   })
   .attr('y', 40)
   .attr('text-anchor', 'middle')
   .text(function(d) {
    return d;
   });
 }


 /*
  * Function called on mouseover to display the
  * details of a bubble in the tooltip.
  */
 function showDetail(d) {
  // change outline to indicate hover state.
  d3.select(this).attr('stroke', 'black');

  var content = '<div class="name">Date: </div><div class="value">' +
   d.name +
   '</div><br/>' +
   '<div class="name">Total Sanctions: </div><div class="value">' +
   d.total +
   '</div><br/>' +
   '<div class="name">Source: </div><div class="value">' +
   '<a href="'+d.source +'">'+d.source+"</a>"+
   '</div>';
  tooltip.showTooltip(content, d3.event);
 }

 /*
  * Hides tooltip
  */


 /*
  * Externally accessible function (this is attached to the
  * returned chart function). Allows the visualization to toggle
  * between "single group" and "split by year" modes.
  *
  * displayName is expected to be a string and either 'year' or 'all'.
  */
 chart.toggleDisplay = function(displayName) {

console.log(displayName);

  if (displayName === 'year') {
   resize = 0;
   splitBubbles();

  } else if (displayName === 'months') {
   resize = 1;
   splitTimeline();


  }
  else if(displayName=='all'){

   resize = 0;
   groupBubbles();
  }




  else if (displayName === 'NONIR'||'IRGC'||'SDGT'||'NPWMD'||"Human Rights"||"aircaftOrVessel") {
   resize = 1;
   splitTag(displayName);


  }



 };


 // return the chart function from closure.
 return chart;
}

/*
 * Below is the initialization code as well as some helper functions
 * to create a new bubble chart instance, load the data, and display it.
 */
var resize = 0;
var myBubbleChart = bubbleChart();

/*
 * Function called once data is loaded from CSV.
 * Calls bubble chart function to display inside #vis div.
 */
function display(iran) {


 myBubbleChart('#vis', iran);
}

/*
 * Sets up the layout buttons to allow for toggling between view modes.
 */
function setupButtons() {
 d3.select('#toolbar')
  .selectAll('.button')
  .on('click', function() {
   // Remove active class from all buttons
   d3.selectAll('.button').classed('active', false);
   // Find the button just clicked
   var button = d3.select(this);

   // Set it as the active button
   button.classed('active', true);

   // Get the id of the button
   var buttonId = button.attr('id');

   // Toggle the bubble chart based on
   // the currently clicked button.
   myBubbleChart.toggleDisplay(buttonId);
  });

  d3.select('#subline')
  .selectAll('.button2')
  .on('click', function() {
   // Remove active class from all buttons
   d3.selectAll('.button2').classed('active', false);
   // Find the button just clicked
   var button = d3.select(this);
   
   // Set it as the active button
   button.classed('active', true);

   // Get the id of the button
   var buttonId = button.attr('id');

   // Toggle the bubble chart based on
   // the currently clicked button.
   myBubbleChart.toggleDisplay(buttonId);});
}

/*
 * Helper function to convert a number into a string
 * and add commas to it to improve presentation.
 */
function addCommas(nStr) {
 nStr += '';
 var x = nStr.split('.');
 var x1 = x[0];
 var x2 = x.length > 1 ? '.' + x[1] : '';
 var rgx = /(\d+)(\d{3})/;
 while (rgx.test(x1)) {
  x1 = x1.replace(rgx, '$1' + ',' + '$2');
 }

 return x1 + x2;
}

// Load the data.
display(iran);

// setup the buttons.
setupButtons();



